><!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Function.prototype.call, Function.prototype.apply &
      Function.prototype.bind
    </title>
  </head>
  <body>
    <a href="/notes/">Go back</a>
    <p><em>Open ur console pls üë®‚Äçüíª F12</em></p>

    <ul>
      <li><button class="call-to-action">Learn</button></li>
      <li><button class="call-to-action">Learn more</button></li>
      <li><button class="call-to-action">Gaaaaaaaaa</button></li>
    </ul>

    <script>
      // notes on methods call, apply and bind
      /**
       * Call
       * this method allows us to determinate the this scope for a function as follows
       */
      function wave() {
        console.log(`Hi I am ${this.name} ${this.lastname}`);
      }

      const subject1 = {
        name: 'Bob',
        lastname: 'Dylan',
      };

      wave.call(subject1);

      function walks(meters, direction) {
        console.log(
          `${this.name} walks ${meters} meters and is heading to ${direction}`
        );
      }

      // you can also pass params as well as the context
      walks.call(subject1, 14, 'mc donalds');

      /**
       * Apply
       * this one also allows to create the scope for the function and params
       * apply can be useful when passing a list as the params
       */
      walks.apply(subject1, [800, 'west']);

      /**
       * Bind
       * this one also allows to create the scope for the function but instead of calling the function it creates
       * a enw oen with the given context
       */
      const subject2 = {
        name: 'Arnold',
        lastname: 'Schs',
      };

      const subjectWave = wave.bind(subject2);
      subjectWave();

      const subjectWalks = walks.bind(subject2);
      subjectWalks(2000, 'Mars');

      //we can also partially save args this is call currying
      const subjectWalks2 = walks.bind(subject2, 42069);
      subjectWalks2('Venus');

      const buttons = document.getElementsByClassName('call-to-action');
      /**
       * When calling by class name we receive a node list
       * but we cannot use for each as it is not an array so we
       * use call
       * buttons.array.forEach((element) => {
       *  element.onclick = () => alert('UwU');
       * });
       */

      // So here we are calling the for each function and declaring the scope and the parameter
      Array.prototype.forEach.call(buttons, (button) => {
        button.onclick = () => alert('UwU');
      });
    </script>
  </body>
</html>
